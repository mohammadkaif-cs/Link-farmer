<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Link Farmer | Contact</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="/style.css">
</head>

<body>

  <!-- ========== Start header ========== -->

  <header class="section-navbar">
    <section class="top_txt">
      <div class="head container">

        <div class="head_txt">
          <p>Buy and Sell your Agricultural Products Easily
          </p>

        </div>
        <div class="sing_in_up" id="navbar-login">
          <a id="auth-link-text" href="login.html">LOGIN</a>

        </div>
      </div>

    </section>
    <div class="container">
      <div class="nav-brand">
        <!-- <a href="index.html"><img src="./public/logo1.png" alt="Loading..." class="logo" width="80%" height="auto"></a> -->
      </div>
      <nav class="navbar">
        <ul>
          <li class="nav-item">
            <a href="/" class="nav-link">Home</a>
          </li>

          <li class="nav-item">
            <a href="products.html" class="nav-link">Products</a>
          </li>
          <li class="nav-item">
            <a href="sell.html" class="nav-link">Sell</a>
          </li>
          <li class="nav-item">
            <a href="contact.html" class="nav-link">Contact</a>
          </li>
          <li class="nav-item">
            <a href="addtocart.html" class="nav-link add-to-cart-button" id="cartValue"><i
                class="fa-solid fa-cart-shopping"> 0 </i></a>
          </li>
        </ul>
      </nav>
    </div>
  </header>



  <div class="container my-contact-form">
    
    
   
    
    <div class="social-media">
        <h2>Contact Us & Connect With Us</h2>
        
    </div>
    
    <form id="my-contact-form" class="new-contact-from" method="post" action="#">
        <h2>Send Us a Message</h2>
        <label for="name">Name</label>
        <input type="text" id="name" name="name" required>
        
        <label for="email">Email</label>
        <input type="email" id="email" name="email" required>
        
        <label for="message">Message</label>
        <textarea id="message" name="message" rows="5" required></textarea>
        
        <button type="submit">Send Message</button>
    </form>
    
 
</div>


  <!-- ========== Start footer ========== -->

  <footer class="section-footer">
    <div class="footer-container container">
      <div class="content_1">
        <img src="./public/logo1.png" alt="logo" />
        <p>
          Welcome to Link Farmer, your destination for
          buying and selling!
        </p>
        <img src="https://i.postimg.cc/Nj9dgJ98/cards.png" alt="cards" />
      </div>
      <div class="content_2">
        <h4>Buying</h4>
        <a href="#">Grains</a>
        <a href="#">Vegetables</a>
        <a href="#">Green Vegetables</a>
        <a href="#">At lowest price</a>
      </div>
      <div class="content_3">
        <h4>Experience</h4>
        <a href="./contact.html">Contact Us</a>
        <a href="" target="_blank">Payment Method</a>
        <a href="" target="_blank"></a>
        <a href="" target="_blank"></a>
      </div>
      <div class="content_4">
        <h4>NEWS</h4>
        <p>Be the first to know about new<br />Products!</p>
        <div class="f-mail">
          <input type="email" placeholder="Your Email" />
          <i class="bx bx-envelope"></i>
        </div>
        <hr />
      </div>
    </div>
    <div class="f-design">
      <div class="f-design-txt">
        <p>Design and Code by Mohammad Kaif</p>
      </div>
    </div>
  </footer>

  <!-- ========== End footer ========== -->

  <script>

    document.getElementById("my-contact-form").addEventListener("submit", async(event)=>{
      event.preventDefault();
       const name=document.getElementById("name").value;
       const email=document.getElementById("email").value;
       const message=document.getElementById("message").value;
       
       const allData = {name,email,message}
       //console.log(allData)

       try{
        const token=localStorage.getItem("token")
        if(token){
         const response = await fetch("http://localhost:5000/api/contact",{
          method: "POST",
          headers :{
            "Content-Type":"application/json",
          },
          body:JSON.stringify(allData),
         });
         const newRealData = await response.text();

         if(response.ok){
          alert("Submitted Successfully");
          window.location.href="./thanksforvisiting.html"
         }else{
          alert("some problem Occured");
         }
        }else{
          window.location.href="./login.html"
        }

         
       }catch(error){
        alert("Failed to Submit")
       }

    })

  </script>

  <script src="main.js" type="module"></script>
  <script src="script.js" type="module"></script>

  


</body>

</html>